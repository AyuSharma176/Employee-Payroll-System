<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Employee</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <div class="edit-container">
        <div class="add-heading">
            <!-- <button class="btn-back" onclick="window.location.href='/'"><img src="/icons/back.svg" alt="Back"></button> -->
            <h1>Edit Employee</h1>
        </div>
        
        <form action="/edit/<%= employee.id %>" method="POST" class="employee-form">
            <div class="form-group">
                <label for="name">Employee Name:</label>
                <input type="text" id="name" name="name" value="<%= employee.name %>" required>
            </div>
            
            <div class="form-group">
                <label for="position">Position:</label>
                <input type="text" id="position" name="position" value="<%= employee.position %>" required>
            </div>
            <div class="form-group">
            <select id="gender" name="gender" value= "<%= employee.gender %>" required>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
          </select>
          </div>    
            
            <div class="dropdown">
                <label for="department">Department:</label>
                <select id="department" name="department" multiple required>
                    <% 
                    const departments = ['IT', 'HR', 'Finance', 'Marketing'];
                    const selectedDepts = Array.isArray(employee.department) ? employee.department : [employee.department];
                    %>
                    <% departments.forEach(dept => { %>
                        <option value="<%= dept %>" <%= selectedDepts.includes(dept) ? 'selected' : '' %>><%= dept %></option>
                    <% }); %>
                </select>
                <small style="color: #666; display: block; margin-top: 5px;">Hold Ctrl to select multiple</small>
            </div>
            
            <div class="form-group">
                <label for="salary">Basic Salary:</label>
                <input type="number" id="salary" name="salary" step="0.01" value="<%= employee.salary %>" required>
            </div>
            
            <div class="form-actions">
                <button type="submit" class="btn-submit">Update Employee</button>
                <button type="button" class="btn-cancel" onclick="window.location.href='/'">Cancel</button>
            </div>
        </form>
    </div>
</body>
</html>